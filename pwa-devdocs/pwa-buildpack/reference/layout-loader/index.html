<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>magento-layout-loader | Magento PWA Documentation</title>
	<meta name="description" content="">

	<link rel="stylesheet" href="/pwa-devdocs/assets/css/app.css" />
	<link rel="stylesheet" href="/pwa-devdocs/assets/css/print.css" media="print"/>

	<link rel="stylesheet" href="/pwa-devdocs/builds/css/main.css" />

<link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">
	<script>
    var baseUrl = "/pwa-devdocs";
    var algolia = {
        id : "null",
        index:  "null",
        key:  "null"
    };
</script>
<!-- Hotjar Tracking Code for https://magento-research.github.io/pwa-devdocs/ -->
<script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:829386,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>

	<link rel="canonical" href="/pwa-devdocs/pwa-buildpack/reference/layout-loader/">

	<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="https://magento.com/favicon.ico">
	<link rel="apple-touch-icon" type="image/png" href="https://magento.com/apple-touch-icon.png">
	<link rel="apple-touch-icon" type="image/png" sizes="57x57" href="https://magento.com/apple-touch-icon-57x57.png">
	<link rel="apple-touch-icon" type="image/png" sizes="72x72" href="https://magento.com/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="https://magento.com/apple-touch-icon-76x76.png">
	<link rel="apple-touch-icon" type="image/png" sizes="114x114" href="https://magento.com/apple-touch-icon-114x114.png">
	<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="https://magento.com/apple-touch-icon-120x120.png">
	<link rel="apple-touch-icon" type="image/png" sizes="144x144" href="https://magento.com/apple-touch-icon-144x144.png">
	<link rel="apple-touch-icon" type="image/png" sizes="152x152" href="https://magento.com/apple-touch-icon-152x152.png">
	<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="https://magento.com/apple-touch-icon-180x180.png">

</head>
<body class="layout-default"> 

	<header class="site-header">

		<nav class="site-nav">

  <div class="menu-btn">
    <a id="menu-btn" class="menu-trigger menu-icon" href="#nav-main" aria-haspopup="true" aria-controls="nav-main"></a>
  </div>

  <div class="nav-container">

    <a class="logo" href="/pwa-devdocs/">
      <img src="/pwa-devdocs/assets/i/m-logo.svg" alt="">
      <img src="/pwa-devdocs/assets/i/magento-logo.svg" alt="Magento" class="magento-logo" />
      <span class="site-logo"></span>
    </a>

    <div id="nav-main" class="nav-main-wrap" aria-labelledby="menu-btn">
      <!-- Main Navigation -->
<ul class="nav-main" role="menubar">

    <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
        <span href="#" data-proofer-ignore tabindex="-1">Technologies</span>

        <div class="nav-popup" role="menu" aria-hidden="true">

            <ul>
            
                
                <li><a href="/pwa-devdocs/technologies/overview/">Overview</a></li>
            
                
                <li><a href="/pwa-devdocs/pwa-buildpack/">PWA Buildpack</a></li>
            
                
                <li><a href="/pwa-devdocs/peregrine/">Peregrine</a></li>
            
                
                <li><a href="/pwa-devdocs/venia-pwa-concept/">Venia Theme (Concept)</a></li>
            
            </ul>

        </div>

    </li>

    <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
        <span href="#" data-proofer-ignore tabindex="-1">External DevDocs Sites</span>

        <div class="nav-popup" role="menu" aria-hidden="true">

            <ul>
            
                
                <li><a href="http://devdocs.magento.com">Magento DevDocs</a></li>
            
                
                <li><a href="https://magento.com/resources/technical">Tech Resources</a></li>
            
                
                <li><a href="https://support.magento.com/hc/en-us">Knowledge Base</a></li>
            
            </ul>

        </div>

    </li>

</ul>
    </div>

  </div>
</nav><!-- .site-nav -->
<div class="nav-main-fader"></div>

    </header>
    
    <div class="message-banner">
        This is the pre-release documentation site for the Magento PWA project. To provide feedback or contribute content, check out the <a href="https://github.com/magento-research/pwa-devdocs">pwa-devdocs</a> repository.
    </div>


	<div class="global-wrapper">

		<div class="main-container">
			<a id="main-content"></a>

<div class="content-container">

	<!-- sidebar -->
<aside class="sidebar">
    <a href="#" class="toc-toggler">Table of Contents</a>
    <div class="sidebar-wrapper">

      




<h4 class="guide-title">Technologies</h4>

<ul class="table-of-contents">

    <li >
        
        <a href="/pwa-devdocs/technologies/overview/" >Overview</a>
        

        
    </li>

    <li >
        
        <a href="/pwa-devdocs/technologies/tools-libraries/" >Tools and libraries</a>
        

        
    </li>

    <li >
        
        <a href="/pwa-devdocs/technologies/basic-concepts/" >Basic concepts</a>
        

        
    </li>

</ul>



<h4 class="guide-title">PWA Buildpack</h4>

<ul class="table-of-contents">

    <li >
        
        <a href="/pwa-devdocs/pwa-buildpack/" >Overview</a>
        

        
    </li>

    <li >
        
        <span>Tools reference</span>
        

        
        <ul>
        
            <li class="active">
                
                <a href="/pwa-devdocs/pwa-buildpack/reference/layout-loader/" >magento-layout-loader</a>
                
            </li>
        
            <li >
                
                <a href="/pwa-devdocs/pwa-buildpack/reference/root-components-plugin/" >MagentoRootComponentsPlugin</a>
                
            </li>
        
        </ul>
        
    </li>

</ul>



<h4 class="guide-title">Peregrine</h4>

<ul class="table-of-contents">

    <li >
        
        <a href="/pwa-devdocs/peregrine/" >Overview</a>
        

        
    </li>

    <li >
        
        <span>Component Reference</span>
        

        
        <ul>
        
            <li >
                
                <a href="/pwa-devdocs/peregrine/reference/container-child/" >ContainerChild</a>
                
            </li>
        
            <li >
                
                <a href="/pwa-devdocs/peregrine/reference/router/" >Router</a>
                
            </li>
        
        </ul>
        
    </li>

</ul>



<h4 class="guide-title">Venia Theme (Concept)</h4>

<ul class="table-of-contents">

    <li >
        
        <a href="/pwa-devdocs/venia-pwa-concept/" >Overview</a>
        

        
    </li>

</ul>


    </div>
</aside>
<!-- /sidebar -->


	<section class="content">
		<div class="content-wrap">
			<!-- page-header -->
<section class="page-intro">

	<h1 class="page-heading">magento-layout-loader</h1>

	<div class="actions-container">
		<a class="gh-edit" href="https://github.com/magento-research/pwa-devdocs/tree/master/src/pwa-buildpack/reference/layout-loader/index.md">
			<i class="material-icons edit">mode_edit</i> Improve this page
		</a>
		<a class="gh-report" href="https://github.com/magento-research/pwa-devdocs/issues/new">
			<i class="material-icons">report</i> Report an issue
		</a>
	</div>
</section>
			<p><i class="material-icons warning">warning</i> <strong>Warning:</strong>
<em>This is a very early implementation.</em>
<em>This API should be considered unstable.</em></p>

<p>The <code class="highlighter-rouge">magento-layout-loader</code> is a <a href="https://webpack.js.org/concepts/loaders/">webpack loader</a> that transforms <a href="https://reactjs.org/docs/introducing-jsx.html">JSX</a> during compilation.
It gives Magento modules and extensions the ability to inject or remove content blocks in a layout without modifying the theme source files.</p>

<h2 id="properties">Properties</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">operation</code></td>
      <td>One of the supported types of operations.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">targetContainer</code></td>
      <td>The <code class="highlighter-rouge">data-mid</code> value of the <code class="highlighter-rouge">Container</code> to target.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">targetChild</code></td>
      <td>The <code class="highlighter-rouge">id</code> value of the <a href="/pwa-devdocs/peregrine/reference/container-child/"><code class="highlighter-rouge">ContainerChild</code></a> to target within <code class="highlighter-rouge">targetContainer</code>.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">componentPath</code></td>
      <td>An absolute path pointing to a file containing a React component as the <code class="highlighter-rouge">default</code> export.</td>
    </tr>
  </tbody>
</table>

<h2 id="supported-operations">Supported operations</h2>

<p>The following <code class="highlighter-rouge">operation</code> configuration values are supported:</p>

<ul>
  <li><code class="highlighter-rouge">removeContainer</code> - removes a specific <code class="highlighter-rouge">Container</code></li>
  <li><code class="highlighter-rouge">removeChild</code> - removes a specific <code class="highlighter-rouge">ContainerChild</code> in a specific <code class="highlighter-rouge">Container</code></li>
  <li><code class="highlighter-rouge">insertBefore</code> - inserts a component before a specific <code class="highlighter-rouge">ContainerChild</code> in a <code class="highlighter-rouge">Container</code></li>
  <li><code class="highlighter-rouge">insertAfter</code> - inserts a component after a specific <code class="highlighter-rouge">ContainerChild</code> in a <code class="highlighter-rouge">Container</code></li>
</ul>

<h2 id="examples">Examples</h2>

<h3 id="removecontainer"><code class="highlighter-rouge">removeContainer</code></h3>

<p><strong>Example configuration:</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"removeContainer"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"targetContainer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"any.container.id"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>Affected code:</strong></p>
<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="s1">'react'</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className=</span><span class="s2">"wrapper"</span><span class="p">&gt;</span>
            The div below will be removed
            <span class="p">&lt;</span><span class="nt">div</span> <span class="nt">data</span><span class="err">-</span><span class="na">mid=</span><span class="s2">"any.container.id"</span> <span class="p">/&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="removechild"><code class="highlighter-rouge">removeChild</code></h3>

<p><strong>Example configuration:</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"removeChild"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"targetContainer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"any.container.id"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"targetChild"</span><span class="p">:</span><span class="w"> </span><span class="s2">"container.child.id"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>Affected code:</strong></p>
<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="s1">'react'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">ContainerChild</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'@magento/peregrine'</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className=</span><span class="s2">"wrapper"</span> <span class="nt">data</span><span class="err">-</span><span class="na">mid=</span><span class="s2">"any.container.id"</span><span class="p">&gt;</span>
            The container below will be removed
            <span class="p">&lt;</span><span class="nc">ContainerChild</span>
                <span class="na">id=</span><span class="s2">"container.child.id"</span>
                <span class="na">render=</span><span class="si">{</span><span class="p">()</span> <span class="o">=&gt;</span> <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>This content will be removed<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span><span class="si">}</span>
            <span class="p">/&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="insertbefore"><code class="highlighter-rouge">insertBefore</code></h3>

<p><strong>Example configuration:</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"insertBefore"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"targetContainer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"any.container.id"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"targetChild"</span><span class="p">:</span><span class="w"> </span><span class="s2">"container.child.id"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"componentPath"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/Absolute/path/to/a/component.js"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>Affected code:</strong></p>
<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="s1">'react'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">ContainerChild</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'@magento/peregrine'</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className=</span><span class="s2">"wrapper"</span> <span class="nt">data</span><span class="err">-</span><span class="na">mid=</span><span class="s2">"any.container.id"</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nc">ContainerChild</span>
                <span class="na">id=</span><span class="s2">"container.child.id"</span>
                <span class="na">render=</span><span class="si">{</span><span class="p">()</span> <span class="o">=&gt;</span> <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>Some Content<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span><span class="si">}</span>
            <span class="p">/&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="insertafter"><code class="highlighter-rouge">insertAfter</code></h3>

<p><strong>Example configuration:</strong></p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"insertAfter"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"targetContainer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"any.container.id"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"targetChild"</span><span class="p">:</span><span class="w"> </span><span class="s2">"container.child.id"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"componentPath"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/Absolute/path/to/a/component.js"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>Affected code:</strong></p>
<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="s1">'react'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">ContainerChild</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'@magento/peregrine'</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className=</span><span class="s2">"wrapper"</span> <span class="nt">data</span><span class="err">-</span><span class="na">mid=</span><span class="s2">"any.container.id"</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nc">ContainerChild</span>
                <span class="na">id=</span><span class="s2">"container.child.id"</span>
                <span class="na">render=</span><span class="si">{</span><span class="p">()</span> <span class="o">=&gt;</span> <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>Some Content<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span><span class="si">}</span>
            <span class="p">/&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>


		</div>
		<!-- /.content-wrap -->

		<div class="page-info">

  

  

</div>


	</section>
	<!-- /.content -->

</div> <!-- /.content-container -->


	</div>
	<!-- /.main-container -->

</div>
<!-- /#gl-wrapper -->

<!-- footer-->
<div class="page-footer">
  <div class="container">

    <div class="copyright-links">
      <ul class="nav footer-links">
  <li><a href="http://magento.com/legal/terms/privacy/">Privacy Policy</a></li>
  <li><a href="http://magento.com/legal/terms/">Terms of Service</a></li>
  <li><a href="http://magento.com/legal/licensing/">License/Trademark FAQ</a></li>
</ul>

    </div>

		<div class="copyright-date">&copy; 2018 Magento. All rights reserved.</div>

  </div>
</div>
<!-- / #footer -->



<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
<script src="/pwa-devdocs/assets/js/app.min.js"></script>







</body>
</html>

